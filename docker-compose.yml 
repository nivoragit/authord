version: "3.9"
services:
  app:
    build:
      context: .
      dockerfile: Dockerfile
    image: myapp-chromium:scan
    environment:
      # Override if your app needs them
      - NODE_ENV=production
      - PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser
      - PUPPETEER_ARGS=--no-sandbox --disable-setuid-sandbox --disable-dev-shm-usage --no-zygote --single-process
    command: ["node", "dist/index.js"]
    # Uncomment if your app exposes HTTP
    # ports:
    #   - "3000:3000"
    # volumes:
    #   - .:/app:ro
    #   - /app/node_modules
    restart: unless-stopped
